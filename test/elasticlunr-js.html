<!doctype html>
<html>
  <head>
    <title>elasticlunr-js</title>
    <script src="../../webcomponentsjs/webcomponents.js"></script>
    <script src="../../web-component-tester/browser.js"></script>
    <script src="../../test-fixture/test-fixture-mocha.js"></script>
    <link rel="import" href="../../polymer/polymer.html">

    <link rel="import" href="../../test-fixture/test-fixture.html">
    <link rel="import" href="../elasticlunr-js.html">
  </head>
  <body>
    <test-fixture id="elasticlunrJs">
      <template>
        <elasticlunr-js></elasticlunr-js>
      </template>
    </test-fixture>
    <script>
      suite('<elasticlunr-js>', function () {
        var elasticlunrJs;
        var lookFor = ""+(Math.floor(Math.random() * 3) + 1)  
        setup(function () {
          elasticlunrJs = fixture('elasticlunrJs')
          elasticlunrJs.data = [{test:1},{test:2},{test:3},{test:"ama"}]
        });
        teardown(function () {
          //...
        });
        suite('basic usage', function () {
          test('can find 1,2 or 3', function(done) {
            elasticlunrJs._search = lookFor
            if (elasticlunrJs.output[0].test == lookFor) {
              done()
            }
          })
          test('can find ama searching for am', function(done) {
            elasticlunrJs._search = "am"
            if (elasticlunrJs.output[0].test == "ama") {
              done()
            }
          })
          test('can not find 4', function(done) {
            elasticlunrJs._search = 4
            if (!elasticlunrJs.output[0]) {
              done()
            }
          })
        });
      });
    </script>
  </body>
</html>
